<div class="row" data-controller="highlight" data-highlight-module-url="<%= asset_path 'syntax_highlight.js' %>">
  <div class="col-12 col-md-8 mx-auto">
    <div class="card <%= @article.published_at.present? ?  'bg-white border-white' : 'card-draft'%>">
      <div class="py-3 px-4">
        <div class="d-flex align-items-center">
          <h1 class="flex-grow-1 text-center h2 mb-3 m-0"><%= @article.title %></h1>
          <%= content_tag :div, class: "" do %>
            <%= link_to 'Edit', edit_article_path(@article), class: 'btn btn-primary' %>
          <% end  if admin?%>
        </div>

        <div class="mb-3">
          <span class="badge rounded-pill text-bg-secondary me-2">Secondary</span>
          <span class="badge rounded-pill text-bg-secondary me-2">Secondary</span>
        </div>
        <div>
          <%# Use sanitize to prevent XSS. Allow only a conservative set of tags/attributes commonly used in article content and code highlighting. %>
          <%= sanitize(@article.formatted_content, tags: %w(p br strong em a code pre span h1 h2 h3 h4 h5 h6 ul ol li blockquote img), attributes: %w(href src alt title class)) %>
        </div>
      </div>
    </div>
  </div>
</div>
